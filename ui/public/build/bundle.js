var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(t,e,n){t.$$.on_destroy.push(a(e,n))}function l(e){return e&&s(e.destroy)?e.destroy:t}function u(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function $(){return g(" ")}function v(){return g("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function w(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function C(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function k(t,e,n){t.classList[n?"add":"remove"](e)}let E;function j(t){E=t}function S(){if(!E)throw new Error("Function called outside component initialization");return E}function O(t){S().$$.on_mount.push(t)}function N(){const t=S();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const A=[],z=[],L=[],I=[],R=Promise.resolve();let D=!1;function H(){D||(D=!0,R.then(B))}function M(){return H(),R}function P(t){L.push(t)}let q=!1;const J=new Set;function B(){if(!q){q=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];j(e),U(e.$$)}for(j(null),A.length=0;z.length;)z.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];J.has(e)||(J.add(e),e())}L.length=0}while(A.length);for(;I.length;)I.pop()();D=!1,q=!1,J.clear()}}function U(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const Y=new Set;let V;function X(){V={r:0,c:[],p:V}}function F(){V.r||o(V.c),V=V.p}function G(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),V.c.push((()=>{Y.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Z(t,e){const n={},r={},o={$$scope:1};let s=t.length;for(;s--;){const i=t[s],a=e[s];if(a){for(const t in i)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[s]=a}else for(const t in i)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function K(t){return"object"==typeof t&&null!==t?t:{}}function Q(t){t&&t.c()}function tt(t,e,r){const{fragment:i,on_mount:a,on_destroy:c,after_update:l}=t.$$;i&&i.m(e,r),P((()=>{const e=a.map(n).filter(s);c?c.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(P)}function et(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(e,n,s,i,a,c,l=[-1]){const u=E;j(e);const f=n.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:l,skip_bound:!1};let m=!1;if(p.ctx=s?s(e,f,((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&function(t,e){-1===t.$$.dirty[0]&&(A.push(t),H(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();n.intro&&G(e.$$.fragment),tt(e,n.target,n.anchor),B()}j(u)}class rt{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot=[];function st(t,e){return{subscribe:it(t,e).subscribe}}function it(e,n=t){let r;const o=[];function s(t){if(i(e,t)&&(e=t,r)){const t=!ot.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),ot.push(n,e)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const c=[i,a];return o.push(c),1===o.length&&(r=n(s)||t),i(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function at(e,n,r){const i=!Array.isArray(e),c=i?[e]:e,l=n.length<2;return st(r,(e=>{let r=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const r=n(i?u[0]:u,e);l?e(r):d=s(r)?r:t},m=c.map(((t,e)=>a(t,(t=>{u[e]=t,f&=~(1<<e),r&&p()}),(()=>{f|=1<<e}))));return r=!0,p(),function(){o(m),d()}}))}function ct(t){this.message=t}ct.prototype=new Error,ct.prototype.name="InvalidCharacterError";var lt="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new ct("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,s=0,i="";r=e.charAt(s++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function ut(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(lt(t).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(e)}catch(t){return lt(e)}}function ft(t){this.message=t}ft.prototype=new Error,ft.prototype.name="InvalidTokenError";var dt,pt,mt=(function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function s(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},o.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c].split(";")[0]));return document.cookie=e+"="+n+a}}function i(t,n){if("undefined"!=typeof document){for(var o={},s=document.cookie?document.cookie.split("; "):[],i=0;i<s.length;i++){var a=s[i].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(a[0]);if(c=(r.read||r)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=s,o.get=function(t){return i(t,!1)},o.getJSON=function(t){return i(t,!0)},o.remove=function(e,n){s(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}(pt={path:dt,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&pt.path)}},pt.exports),pt.exports);const ht=st(mt.get("token"),(function(t){const e=setInterval((function(){t(mt.get("token"))}),100);return function(){clearInterval(e)}})),gt={username:"unknown",role:"unauthorized"},$t=at(ht,(t=>t?function(t,e){if("string"!=typeof t)throw new ft("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(ut(t.split(".")[n]))}catch(t){throw new ft("Invalid token specified: "+t.message)}}(t).user:gt));function vt(e){let n,r,s,i,a,c,l,p,h,g,v,x,w,C,k,E,j,S,O,N,T,A;return{c(){n=m("div"),r=m("div"),s=m("div"),i=$(),a=m("div"),c=m("h1"),c.textContent="Боцман",l=$(),p=m("h5"),p.textContent="система управления перевозками",h=$(),g=m("form"),v=m("p"),x=m("input"),w=$(),C=m("p"),k=m("input"),E=$(),j=m("p"),S=m("button"),S.textContent="Войти в панель управления",O=$(),N=m("div"),y(s,"class","col-3 col-4-xs col-4-md col-4-lg"),y(c,"class","svelte-5uc5og"),y(p,"class","svelte-5uc5og"),y(x,"type","text"),y(x,"class","form-input"),y(x,"id","login"),y(k,"type","password"),y(k,"class","form-input"),y(k,"id","password"),y(S,"type","submit"),y(S,"class","btn btn-primary"),y(a,"class","col-6 col-4-xs col-4-md col-4-lg text-center"),y(N,"class","col-3 col-4-xs col-4-md col-4-lg"),y(r,"class","row"),y(n,"class","container")},m(t,o){f(t,n,o),u(n,r),u(r,s),u(r,i),u(r,a),u(a,c),u(a,l),u(a,p),u(a,h),u(a,g),u(g,v),u(v,x),_(x,e[0]),u(g,w),u(g,C),u(C,k),_(k,e[1]),u(g,E),u(g,j),u(j,S),u(r,O),u(r,N),T||(A=[b(x,"input",e[3]),b(k,"input",e[4]),b(S,"click",e[2])],T=!0)},p(t,[e]){1&e&&x.value!==t[0]&&_(x,t[0]),2&e&&k.value!==t[1]&&_(k,t[1])},i:t,o:t,d(t){t&&d(n),T=!1,o(A)}}}function bt(t,e,n){let r="",o="";return[r,o,function(t){t.preventDefault(),async function(t,e){const n={username:t,password:e},r=await fetch("https://gaps-apps.ru/api/botcman/auth",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok)return r;throw new Error(r.toString())}(r,o).then().catch((t=>alert("Ошибка авторизации.\n\nПроверьте ваши логин и пароль.")))},function(){r=this.value,n(0,r)},function(){o=this.value,n(1,o)}]}class yt extends rt{constructor(t){super(),nt(this,t,bt,vt,i,{})}}function xt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,o,s,i=[],a="",c=t.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(i.push("wild"),a+="/(.*)"):":"===n?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function _t(t){let n,r,o;const s=[t[2]];var i=t[0];function a(t){let n={};for(let t=0;t<s.length;t+=1)n=e(n,s[t]);return{props:n}}return i&&(n=new i(a()),n.$on("routeEvent",t[7])),{c(){n&&Q(n.$$.fragment),r=v()},m(t,e){n&&tt(n,t,e),f(t,r,e),o=!0},p(t,e){const o=4&e?Z(s,[K(t[2])]):{};if(i!==(i=t[0])){if(n){X();const t=n;W(t.$$.fragment,1,0,(()=>{et(t,1)})),F()}i?(n=new i(a()),n.$on("routeEvent",t[7]),Q(n.$$.fragment),G(n.$$.fragment,1),tt(n,r.parentNode,r)):n=null}else i&&n.$set(o)},i(t){o||(n&&G(n.$$.fragment,t),o=!0)},o(t){n&&W(n.$$.fragment,t),o=!1},d(t){t&&d(r),n&&et(n,t)}}}function wt(t){let n,r,o;const s=[{params:t[1]},t[2]];var i=t[0];function a(t){let n={};for(let t=0;t<s.length;t+=1)n=e(n,s[t]);return{props:n}}return i&&(n=new i(a()),n.$on("routeEvent",t[6])),{c(){n&&Q(n.$$.fragment),r=v()},m(t,e){n&&tt(n,t,e),f(t,r,e),o=!0},p(t,e){const o=6&e?Z(s,[2&e&&{params:t[1]},4&e&&K(t[2])]):{};if(i!==(i=t[0])){if(n){X();const t=n;W(t.$$.fragment,1,0,(()=>{et(t,1)})),F()}i?(n=new i(a()),n.$on("routeEvent",t[6]),Q(n.$$.fragment),G(n.$$.fragment,1),tt(n,r.parentNode,r)):n=null}else i&&n.$set(o)},i(t){o||(n&&G(n.$$.fragment,t),o=!0)},o(t){n&&W(n.$$.fragment,t),o=!1},d(t){t&&d(r),n&&et(n,t)}}}function Ct(t){let e,n,r,o;const s=[wt,_t],i=[];function a(t,e){return t[1]?0:1}return e=a(t),n=i[e]=s[e](t),{c(){n.c(),r=v()},m(t,n){i[e].m(t,n),f(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?i[e].p(t,o):(X(),W(i[c],1,1,(()=>{i[c]=null})),F(),n=i[e],n||(n=i[e]=s[e](t),n.c()),G(n,1),n.m(r.parentNode,r))},i(t){o||(G(n),o=!0)},o(t){W(n),o=!1},d(t){i[e].d(t),t&&d(r)}}}var kt=function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};function Et(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const jt=st(null,(function(t){t(Et());const e=()=>{t(Et())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));at(jt,(t=>t.location)),at(jt,(t=>t.querystring));function St(t){return kt(this,void 0,void 0,(function*(){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");yield M(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}))}function Ot(t,e){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return Nt(t,e||t.getAttribute("href")),{update(e){Nt(t,e)}}}function Nt(t,e){if(!e||e.length<1||"/"!=e.charAt(0))throw Error('Invalid value for "href" attribute: '+e);t.setAttribute("href","#"+e),t.addEventListener("click",Tt)}function Tt(t){t.preventDefault();const e=t.currentTarget.getAttribute("href");history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=e}function At(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let{routes:o={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class a{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=xt(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(s)if("string"==typeof s&&t.startsWith(s))t=t.substr(s.length)||"/";else if(s instanceof RegExp){const e=t.match(s);e&&e[0]&&(t=t.substr(e[0].length)||"/")}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}checkConditions(t){return r(this,void 0,void 0,(function*(){for(let e=0;e<this.conditions.length;e++)if(!(yield this.conditions[e](t)))return!1;return!0}))}}const c=[];o instanceof Map?o.forEach(((t,e)=>{c.push(new a(e,t))})):Object.keys(o).forEach((t=>{c.push(new a(t,o[t]))}));let l=null,u=null,f={};const d=N();function p(t,e){return r(this,void 0,void 0,(function*(){yield M(),d(t,e)}))}let m=null;i&&(window.addEventListener("popstate",(t=>{m=t.state&&t.state.scrollY?t.state:null})),function(t){S().$$.after_update.push(t)}((()=>{m?window.scrollTo(m.scrollX,m.scrollY):window.scrollTo(0,0)})));let h=null,g=null;return jt.subscribe((t=>r(void 0,void 0,void 0,(function*(){h=t;let e=0;for(;e<c.length;){const r=c[e].match(t.location);if(!r){e++;continue}const o={route:c[e].path,location:t.location,querystring:t.querystring,userData:c[e].userData};if(!(yield c[e].checkConditions(o)))return n(0,l=null),g=null,void p("conditionsFailed",o);p("routeLoading",Object.assign({},o));const s=c[e].component;if(g!=s){s.loading?(n(0,l=s.loading),g=s,n(1,u=s.loadingParams),n(2,f={}),p("routeLoaded",Object.assign({},o,{component:l,name:l.name}))):(n(0,l=null),g=null);const e=yield s();if(t!=h)return;n(0,l=e&&e.default||e),g=s}return r&&"object"==typeof r&&Object.keys(r).length?n(1,u=r):n(1,u=null),n(2,f=c[e].props),void p("routeLoaded",Object.assign({},o,{component:l,name:l.name}))}n(0,l=null),g=null})))),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,s=t.prefix),"restoreScrollState"in t&&n(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[l,u,f,o,s,i,function(e){T(t,e)},function(e){T(t,e)}]}class zt extends rt{constructor(t){super(),nt(this,t,At,Ct,i,{routes:3,prefix:4,restoreScrollState:5})}}const Lt=[];let It;function Rt(t){(t.className||"").split(" ").forEach((e=>{e&&(t.node.classList.remove(e),t.pattern.test(It)&&t.node.classList.add(e))}))}function Dt(t,e){if(!(e=e&&("string"==typeof e||"object"==typeof e&&e instanceof RegExp)?{path:e}:e||{}).path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&"#"==e.path.charAt(0)&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||"string"==typeof e.path&&(e.path.length<1||"/"!=e.path.charAt(0)&&"*"!=e.path.charAt(0)))throw Error('Invalid value for "path" argument');const{pattern:n}="string"==typeof e.path?xt(e.path):{pattern:e.path},r={node:t,className:e.className,pattern:n};return Lt.push(r),Rt(r),{destroy(){Lt.splice(Lt.indexOf(r),1)}}}function Ht(e){let n,r,s,i,a,c,p,h,g,v,x,_,w,C,k,E,j,S,O,N,T,A,z,L,I,R,D;return{c(){n=m("header"),r=m("nav"),s=m("div"),i=m("a"),i.textContent="Команда",p=$(),h=m("a"),h.textContent="Заявки",x=$(),_=m("div"),w=m("a"),w.innerHTML='<img alt="Боцман @ Коробка" src="img/box.svg"/>',k=$(),E=m("div"),j=m("a"),j.textContent="События",N=$(),T=m("a"),T.textContent="Настройки",L=$(),I=m("a"),I.textContent="Выйти",y(i,"href","/team"),y(i,"class","button primary"),y(h,"href","/jobs"),y(h,"class","button primary"),y(s,"class","nav-left"),y(w,"href","/"),y(w,"class","brand"),y(_,"class","nav-center hide-xs"),y(j,"href","/logs"),y(j,"class","button primary hide-xs hide-sm"),y(T,"href","/settings"),y(T,"class","button primary"),y(I,"class","button primary"),y(E,"class","nav-right"),y(r,"class","nav bg-dark")},m(t,o){f(t,n,o),u(n,r),u(r,s),u(s,i),u(s,p),u(s,h),u(r,x),u(r,_),u(_,w),u(r,k),u(r,E),u(E,j),u(E,N),u(E,T),u(E,L),u(E,I),R||(D=[l(a=Ot.call(null,i)),l(c=Dt.call(null,i,{className:"bd-success"})),l(g=Ot.call(null,h)),l(v=Dt.call(null,h,{className:"bd-success"})),l(C=Ot.call(null,w)),l(S=Ot.call(null,j)),l(O=Dt.call(null,j,{className:"bd-success"})),l(A=Ot.call(null,T)),l(z=Dt.call(null,T,{className:"bd-success"})),b(I,"click",e[0])],R=!0)},p:t,i:t,o:t,d(t){t&&d(n),R=!1,o(D)}}}function Mt(t){return[function(){mt.remove("token")}]}jt.subscribe((t=>{It=t.location+(t.querystring?"?"+t.querystring:""),Lt.map(Rt)}));class Pt extends rt{constructor(t){super(),nt(this,t,Mt,Ht,i,{})}}function qt(e){let n;return{c(){n=m("div"),n.innerHTML='<dir class="row"><div class="col"><h1>Welcome!</h1></div></dir>',y(n,"class","container")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}class Jt extends rt{constructor(t){super(),nt(this,t,null,qt,i,{})}}const Bt=at(st({event:{name:null}},(function(t){t({event:{name:"jobs_update"}});var e=new WebSocket("wss://gaps-apps.ru:443/api/botcman/events");return e.onmessage=function(e){t(JSON.parse(e.data))},function(){e.close()}})),((t,e)=>("jobs_update"==t.event.name&&fetch("https://gaps-apps.ru/api/botcman/jobs/list",{method:"GET",credentials:"include"}).then((t=>t.json())).then((t=>e(t))),()=>{})),[]);async function Ut(t){const e=await fetch("https://gaps-apps.ru/api/botcman/jobs/archive/"+t,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(422==e.status){await e.json()}}const Yt=localStorage.getItem("is_striped_tables"),Vt=localStorage.getItem("is_hide_archived"),Xt=it("true"===Yt);Xt.subscribe((t=>{localStorage.setItem("is_striped_tables",t)}));const Ft=it("true"===Vt);function Gt(e){let n,r,o,s;return{c(){n=m("a"),n.textContent="Добавить заявку",y(n,"href","/jobs/add"),y(n,"class","button outline primary")},m(t,e){f(t,n,e),o||(s=l(r=Ot.call(null,n)),o=!0)},p:t,i:t,o:t,d(t){t&&d(n),o=!1,s()}}}Ft.subscribe((t=>{localStorage.setItem("is_hide_archived",t)}));class Wt extends rt{constructor(t){super(),nt(this,t,null,Gt,i,{})}}function Zt(t){let e,n,r,o;function s(t,e){return"string"==typeof t[8][4]?Qt:Kt}let i=s(t),a=i(t);return{c(){e=h("svg"),n=h("g"),r=h("g"),a.c(),y(r,"transform",t[10]),y(n,"transform","translate(256 256)"),y(e,"id",t[1]),y(e,"class",t[0]),y(e,"style",t[9]),y(e,"viewBox",o=`0 0 ${t[8][0]} ${t[8][1]}`),y(e,"aria-hidden","true"),y(e,"role","img"),y(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){f(t,e,o),u(e,n),u(n,r),a.m(r,null)},p(t,n){i===(i=s(t))&&a?a.p(t,n):(a.d(1),a=i(t),a&&(a.c(),a.m(r,null))),1024&n&&y(r,"transform",t[10]),2&n&&y(e,"id",t[1]),1&n&&y(e,"class",t[0]),512&n&&y(e,"style",t[9]),256&n&&o!==(o=`0 0 ${t[8][0]} ${t[8][1]}`)&&y(e,"viewBox",o)},d(t){t&&d(e),a.d()}}}function Kt(t){let e,n,r,o,s,i,a,c;return{c(){e=h("path"),s=h("path"),y(e,"d",n=t[8][4][0]),y(e,"fill",r=t[4]||t[2]||"currentColor"),y(e,"fill-opacity",o=0!=t[7]?t[5]:t[6]),y(e,"transform","translate(-256 -256)"),y(s,"d",i=t[8][4][1]),y(s,"fill",a=t[3]||t[2]||"currentColor"),y(s,"fill-opacity",c=0!=t[7]?t[6]:t[5]),y(s,"transform","translate(-256 -256)")},m(t,n){f(t,e,n),f(t,s,n)},p(t,l){256&l&&n!==(n=t[8][4][0])&&y(e,"d",n),20&l&&r!==(r=t[4]||t[2]||"currentColor")&&y(e,"fill",r),224&l&&o!==(o=0!=t[7]?t[5]:t[6])&&y(e,"fill-opacity",o),256&l&&i!==(i=t[8][4][1])&&y(s,"d",i),12&l&&a!==(a=t[3]||t[2]||"currentColor")&&y(s,"fill",a),224&l&&c!==(c=0!=t[7]?t[6]:t[5])&&y(s,"fill-opacity",c)},d(t){t&&d(e),t&&d(s)}}}function Qt(t){let e,n,r;return{c(){e=h("path"),y(e,"d",n=t[8][4]),y(e,"fill",r=t[2]||t[3]||"currentColor"),y(e,"transform","translate(-256 -256)")},m(t,n){f(t,e,n)},p(t,o){256&o&&n!==(n=t[8][4])&&y(e,"d",n),12&o&&r!==(r=t[2]||t[3]||"currentColor")&&y(e,"fill",r)},d(t){t&&d(e)}}}function te(e){let n,r=e[8][4]&&Zt(e);return{c(){r&&r.c(),n=v()},m(t,e){r&&r.m(t,e),f(t,n,e)},p(t,[e]){t[8][4]?r?r.p(t,e):(r=Zt(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&d(n)}}}function ee(t,e,n){let r,o,s,{class:i=""}=e,{id:a=""}=e,{style:c=""}=e,{icon:l}=e,{fw:u=!1}=e,{flip:f=!1}=e,{pull:d=!1}=e,{rotate:p=!1}=e,{size:m=!1}=e,{color:h=""}=e,{primaryColor:g=""}=e,{secondaryColor:$=""}=e,{primaryOpacity:v=1}=e,{secondaryOpacity:b=.4}=e,{swapOpacity:y=!1}=e;return t.$$set=t=>{"class"in t&&n(0,i=t.class),"id"in t&&n(1,a=t.id),"style"in t&&n(11,c=t.style),"icon"in t&&n(12,l=t.icon),"fw"in t&&n(13,u=t.fw),"flip"in t&&n(14,f=t.flip),"pull"in t&&n(15,d=t.pull),"rotate"in t&&n(16,p=t.rotate),"size"in t&&n(17,m=t.size),"color"in t&&n(2,h=t.color),"primaryColor"in t&&n(3,g=t.primaryColor),"secondaryColor"in t&&n(4,$=t.secondaryColor),"primaryOpacity"in t&&n(5,v=t.primaryOpacity),"secondaryOpacity"in t&&n(6,b=t.secondaryOpacity),"swapOpacity"in t&&n(7,y=t.swapOpacity)},t.$$.update=()=>{if(4096&t.$$.dirty&&n(8,r=l&&l.icon||[0,0,"",[],""]),174080&t.$$.dirty){let t,e;const r="1em";let s,i,a,l="-.125em";const f="visible";u&&(a="center",e="1.25em"),d&&(t=d),m&&("lg"==m?(i="1.33333em",s=".75em",l="-.225em"):i="xs"==m?".75em":"sm"==m?".875em":m.replace("x","em"));const p={float:t,width:e,height:r,"line-height":s,"font-size":i,"text-align":a,"vertical-align":l,overflow:f};let h="";for(const t in p)p[t]&&(h+=`${t}:${p[t]};`);n(9,o=h+c)}if(81920&t.$$.dirty){let t="";if(f){let e=1,n=1;"horizontal"==f?e=-1:"vertical"==f?n=-1:e=n=-1,t+=` scale(${e} ${n})`}p&&(t+=` rotate(${p} 0 0)`),n(10,s=t)}},[i,a,h,g,$,v,b,y,r,o,s,c,l,u,f,d,p,m]}class ne extends rt{constructor(t){super(),nt(this,t,ee,te,i,{class:0,id:1,style:11,icon:12,fw:13,flip:14,pull:15,rotate:16,size:17,color:2,primaryColor:3,secondaryColor:4,primaryOpacity:5,secondaryOpacity:6,swapOpacity:7})}}
/*!
     * Font Awesome Free 5.15.1 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var re={prefix:"fas",iconName:"archive",icon:[512,512,[],"f187","M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"]},oe={prefix:"fas",iconName:"hands-helping",icon:[640,512,[],"f4c4","M488 192H336v56c0 39.7-32.3 72-72 72s-72-32.3-72-72V126.4l-64.9 39C107.8 176.9 96 197.8 96 220.2v47.3l-80 46.2C.7 322.5-4.6 342.1 4.3 357.4l80 138.6c8.8 15.3 28.4 20.5 43.7 11.7L231.4 448H368c35.3 0 64-28.7 64-64h16c17.7 0 32-14.3 32-32v-64h8c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zm147.7-37.4L555.7 16C546.9.7 527.3-4.5 512 4.3L408.6 64H306.4c-12 0-23.7 3.4-33.9 9.7L239 94.6c-9.4 5.8-15 16.1-15 27.1V248c0 22.1 17.9 40 40 40s40-17.9 40-40v-88h184c30.9 0 56 25.1 56 56v28.5l80-46.2c15.3-8.9 20.5-28.4 11.7-43.7z"]},se={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},ie={prefix:"fas",iconName:"user-friends",icon:[640,512,[],"f500","M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"]};function ae(t){let e,n,r,s,i,a,c,l,p,h,g,v;return r=new ne({props:{size:"1.25x",icon:ie}}),a=new ne({props:{size:"1.25x",icon:se}}),p=new ne({props:{size:"1.25x",icon:re}}),{c(){e=m("div"),n=m("a"),Q(r.$$.fragment),s=$(),i=m("a"),Q(a.$$.fragment),c=$(),l=m("a"),Q(p.$$.fragment),y(n,"class","svelte-6w502d"),k(n,"disabled_link",t[1]),y(l,"class","svelte-6w502d"),k(l,"disabled_link",t[0]),y(e,"class","actions svelte-6w502d")},m(o,d){f(o,e,d),u(e,n),tt(r,n,null),u(e,s),u(e,i),tt(a,i,null),u(e,c),u(e,l),tt(p,l,null),h=!0,g||(v=[b(n,"click",t[4]),b(i,"click",t[3]),b(l,"click",t[2])],g=!0)},p(t,[e]){2&e&&k(n,"disabled_link",t[1]),1&e&&k(l,"disabled_link",t[0])},i(t){h||(G(r.$$.fragment,t),G(a.$$.fragment,t),G(p.$$.fragment,t),h=!0)},o(t){W(r.$$.fragment,t),W(a.$$.fragment,t),W(p.$$.fragment,t),h=!1},d(t){t&&d(e),et(r),et(a),et(p),g=!1,o(v)}}}function ce(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let o,s,{id:i}=e,{status:a}=e;return t.$$set=t=>{"id"in t&&n(5,i=t.id),"status"in t&&n(6,a=t.status)},t.$$.update=()=>{64&t.$$.dirty&&(n(0,o="в архиве"===a),n(1,s="завершена"===a))},[o,s,function(t){return r(this,void 0,void 0,(function*(){("завершена"===a||confirm("Заявка не завершена. Вы уверены, что хотите отправить её в архив?"))&&(yield Ut(i))}))},function(){return r(this,void 0,void 0,(function*(){St("/jobs/edit/"+i)}))},function(){return r(this,void 0,void 0,(function*(){St("/jobs/pick/"+i)}))},i,a]}class le extends rt{constructor(t){super(),nt(this,t,ce,ae,i,{id:5,status:6})}}function ue(t){let e,n,r,o,s,i,a,c,l,p,h,v,b,_,w,C,k,E,j,S=(t[4]?t[4]:"не назначен")+"",O=(t[3]?t[3]:"не назначена")+"";return E=new le({props:{id:t[5],status:t[2]}}),{c(){e=m("tr"),n=m("td"),r=g(t[0]),o=$(),s=m("td"),i=g(t[1]),a=$(),c=m("td"),l=g(S),p=$(),h=m("td"),v=g(O),b=$(),_=m("td"),w=g(t[2]),C=$(),k=m("td"),Q(E.$$.fragment),y(k,"class","action-buttons text-right svelte-9bjr68")},m(t,d){f(t,e,d),u(e,n),u(n,r),u(e,o),u(e,s),u(s,i),u(e,a),u(e,c),u(c,l),u(e,p),u(e,h),u(h,v),u(e,b),u(e,_),u(_,w),u(e,C),u(e,k),tt(E,k,null),j=!0},p(t,[e]){(!j||1&e)&&x(r,t[0]),(!j||2&e)&&x(i,t[1]),(!j||16&e)&&S!==(S=(t[4]?t[4]:"не назначен")+"")&&x(l,S),(!j||8&e)&&O!==(O=(t[3]?t[3]:"не назначена")+"")&&x(v,O),(!j||4&e)&&x(w,t[2]);const n={};32&e&&(n.id=t[5]),4&e&&(n.status=t[2]),E.$set(n)},i(t){j||(G(E.$$.fragment,t),j=!0)},o(t){W(E.$$.fragment,t),j=!1},d(t){t&&d(e),et(E)}}}function fe(t,e,n){let{ext_id:r}=e,{manager:o}=e,{status:s}=e,{brigade:i}=e,{brigadier:a}=e,{id:c}=e;return t.$$set=t=>{"ext_id"in t&&n(0,r=t.ext_id),"manager"in t&&n(1,o=t.manager),"status"in t&&n(2,s=t.status),"brigade"in t&&n(3,i=t.brigade),"brigadier"in t&&n(4,a=t.brigadier),"id"in t&&n(5,c=t.id)},[r,o,s,i,a,c]}class de extends rt{constructor(t){super(),nt(this,t,fe,ue,i,{ext_id:0,manager:1,status:2,brigade:3,brigadier:4,id:5})}}function pe(t,e,n){const r=t.slice();return r[8]=e[n],r}function me(t,e,n){const r=t.slice();return r[11]=e[n],r}function he(e){let n,r,o,s,i,a,c=e[11].name+"";return{c(){n=m("th"),r=g(c),o=$(),y(n,"data-id",s=e[11].id),y(n,"data-order","1"),y(n,"class","svelte-1lry4cs")},m(t,s){f(t,n,s),u(n,r),u(n,o),i||(a=b(n,"click",e[3]),i=!0)},p:t,d(t){t&&d(n),i=!1,a()}}}function ge(t){let n,r;const o=[t[8]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);return n=new de({props:s}),{c(){Q(n.$$.fragment)},m(t,e){tt(n,t,e),r=!0},p(t,e){const r=5&e?Z(o,[K(t[8])]):{};n.$set(r)},i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){W(n.$$.fragment,t),r=!1},d(t){et(n,t)}}}function $e(t){let e,n,r=!t[4](t[8]),o=r&&ge(t);return{c(){o&&o.c(),e=v()},m(t,r){o&&o.m(t,r),f(t,e,r),n=!0},p(t,n){5&n&&(r=!t[4](t[8])),r?o?(o.p(t,n),5&n&&G(o,1)):(o=ge(t),o.c(),G(o,1),o.m(e.parentNode,e)):o&&(X(),W(o,1,1,(()=>{o=null})),F())},i(t){n||(G(o),n=!0)},o(t){W(o),n=!1},d(t){o&&o.d(t),t&&d(e)}}}function ve(t){let e,n,r,o,s,i=t[5],a=[];for(let e=0;e<i.length;e+=1)a[e]=he(me(t,i,e));let c=t[2].sort(t[0]),l=[];for(let e=0;e<c.length;e+=1)l[e]=$e(pe(t,c,e));const h=t=>W(l[t],1,1,(()=>{l[t]=null}));return{c(){e=m("table"),n=m("thead");for(let t=0;t<a.length;t+=1)a[t].c();r=$(),o=m("tbody");for(let t=0;t<l.length;t+=1)l[t].c();k(e,"striped",t[1])},m(t,i){f(t,e,i),u(e,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);u(e,r),u(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);s=!0},p(t,[r]){if(40&r){let e;for(i=t[5],e=0;e<i.length;e+=1){const o=me(t,i,e);a[e]?a[e].p(o,r):(a[e]=he(o),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=i.length}if(21&r){let e;for(c=t[2].sort(t[0]),e=0;e<c.length;e+=1){const n=pe(t,c,e);l[e]?(l[e].p(n,r),G(l[e],1)):(l[e]=$e(n),l[e].c(),G(l[e],1),l[e].m(o,null))}for(X(),e=c.length;e<l.length;e+=1)h(e);F()}2&r&&k(e,"striped",t[1])},i(t){if(!s){for(let t=0;t<c.length;t+=1)G(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)W(l[t]);s=!1},d(t){t&&d(e),p(a,t),p(l,t)}}}function be(t,e){return function(n,r){return n[t]<r[t]?e:n[t]>r[t]?-1*e:0}}function ye(t,e,n){let r,o,s;c(t,Ft,(t=>n(7,r=t))),c(t,Xt,(t=>n(1,o=t))),c(t,Bt,(t=>n(2,s=t)));let i=["experience",1],a=be(...i);return t.$$.update=()=>{64&t.$$.dirty&&n(0,a=be(...i))},[a,o,s,function(t){n(6,i=[t.srcElement.dataset.id,t.srcElement.dataset.order]),t.srcElement.dataset.order*=-1},function(t){return r&&"в архиве"===t.status},[{id:"ext_id",name:"Номер"},{id:"manager",name:"Исполнитель"},{id:"brigadier",name:"Старший"},{id:"brigade",name:"Бригада"},{id:"status",name:"Статус"}]]}class xe extends rt{constructor(t){super(),nt(this,t,ye,ve,i,{})}}function _e(e){let n,r,o,s,i,a,c,l,p;return s=new Wt({}),l=new xe({}),{c(){n=m("div"),r=m("div"),o=m("div"),Q(s.$$.fragment),i=$(),a=m("div"),c=m("div"),Q(l.$$.fragment),y(o,"class","col"),y(r,"class","row action-buttons svelte-1x4kbvx"),y(c,"class","col"),y(a,"class","row"),y(n,"class","container")},m(t,e){f(t,n,e),u(n,r),u(r,o),tt(s,o,null),u(n,i),u(n,a),u(a,c),tt(l,c,null),p=!0},p:t,i(t){p||(G(s.$$.fragment,t),G(l.$$.fragment,t),p=!0)},o(t){W(s.$$.fragment,t),W(l.$$.fragment,t),p=!1},d(t){t&&d(n),et(s),et(l)}}}class we extends rt{constructor(t){super(),nt(this,t,null,_e,i,{})}}const Ce=at(st({event:{name:null}},(function(t){t({event:{name:"team_members_update"}});var e=new WebSocket("wss://gaps-apps.ru:443/api/botcman/events");return e.onmessage=function(e){t(JSON.parse(e.data))},function(){e.close()}})),((t,e)=>("team_members_update"==t.event.name&&fetch("https://gaps-apps.ru/api/botcman/team/list",{method:"GET",credentials:"include"}).then((t=>t.json())).then((t=>e(t))),()=>{})),[]);const ke=(t,{target:e=document.body}={})=>{const n=document.createElement("textarea"),r=document.activeElement;n.value=t,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const o=document.getSelection();let s=!1;o.rangeCount>0&&(s=o.getRangeAt(0)),e.append(n),n.select(),n.selectionStart=0,n.selectionEnd=t.length;let i=!1;try{i=document.execCommand("copy")}catch(t){}return n.remove(),s&&(o.removeAllRanges(),o.addRange(s)),r&&r.focus(),i};var Ee=ke,je=ke;function Se(t){let e,n,r,s,i,a,c,p,h,g,v,x,_;return r=new ne({props:{size:"1.25x",icon:oe}}),a=new ne({props:{size:"1.25x",icon:se}}),g=new ne({props:{size:"1.25x",icon:re}}),{c(){e=m("div"),n=m("a"),Q(r.$$.fragment),s=$(),i=m("a"),Q(a.$$.fragment),p=$(),h=m("a"),Q(g.$$.fragment),y(n,"class","svelte-ul0ji2"),k(n,"disabled_link",t[0]),y(i,"class","disabled_link svelte-ul0ji2"),y(i,"href","/team/edit"),y(h,"class","svelte-ul0ji2"),k(h,"disabled_link",t[1]),y(e,"class","actions svelte-ul0ji2")},m(o,d){f(o,e,d),u(e,n),tt(r,n,null),u(e,s),u(e,i),tt(a,i,null),u(e,p),u(e,h),tt(g,h,null),v=!0,x||(_=[b(n,"click",t[2]),l(c=Ot.call(null,i)),b(h,"click",t[3])],x=!0)},p(t,[e]){1&e&&k(n,"disabled_link",t[0]),2&e&&k(h,"disabled_link",t[1])},i(t){v||(G(r.$$.fragment,t),G(a.$$.fragment,t),G(g.$$.fragment,t),v=!0)},o(t){W(r.$$.fragment,t),W(a.$$.fragment,t),W(g.$$.fragment,t),v=!1},d(t){t&&d(e),et(r),et(a),et(g),x=!1,o(_)}}}function Oe(t,e,n){let r,o,{id:s}=e,{code:i}=e,{status:a}=e;return t.$$set=t=>{"id"in t&&n(4,s=t.id),"code"in t&&n(5,i=t.code),"status"in t&&n(6,a=t.status)},t.$$.update=()=>{64&t.$$.dirty&&(n(0,r="готов к работе"===a),n(1,o="в архиве"===a))},[r,o,function(){Ee(i.toString()),alert("Код для регистрации скопирован в буфер обмена.")},function(){!async function(t){const e=await fetch("https://gaps-apps.ru/api/botcman/team/archive/"+t,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});422==e.status&&await e.json()}(s)},s,i,a]}Ee.default=je;class Ne extends rt{constructor(t){super(),nt(this,t,Oe,Se,i,{id:4,code:5,status:6})}}function Te(t){let e,n,r,o,s,i,a,c,l,p,h,v,b,_,w,C,k,E,j;return E=new Ne({props:{code:t[5],id:t[6],status:t[4]}}),{c(){e=m("tr"),n=m("td"),r=g(t[0]),o=$(),s=m("td"),i=g(t[3]),a=$(),c=m("td"),l=g(t[1]),p=$(),h=m("td"),v=g(t[2]),b=$(),_=m("td"),w=g(t[4]),C=$(),k=m("td"),Q(E.$$.fragment),y(k,"class","action-buttons text-right svelte-9bjr68")},m(t,d){f(t,e,d),u(e,n),u(n,r),u(e,o),u(e,s),u(s,i),u(e,a),u(e,c),u(c,l),u(e,p),u(e,h),u(h,v),u(e,b),u(e,_),u(_,w),u(e,C),u(e,k),tt(E,k,null),j=!0},p(t,[e]){(!j||1&e)&&x(r,t[0]),(!j||8&e)&&x(i,t[3]),(!j||2&e)&&x(l,t[1]),(!j||4&e)&&x(v,t[2]),(!j||16&e)&&x(w,t[4]);const n={};32&e&&(n.code=t[5]),64&e&&(n.id=t[6]),16&e&&(n.status=t[4]),E.$set(n)},i(t){j||(G(E.$$.fragment,t),j=!0)},o(t){W(E.$$.fragment,t),j=!1},d(t){t&&d(e),et(E)}}}function Ae(t,e,n){let{fullname:r}=e,{experience:o}=e,{stamina:s}=e,{reliability:i}=e,{status:a}=e,{code:c}=e,{id:l}=e;return t.$$set=t=>{"fullname"in t&&n(0,r=t.fullname),"experience"in t&&n(1,o=t.experience),"stamina"in t&&n(2,s=t.stamina),"reliability"in t&&n(3,i=t.reliability),"status"in t&&n(4,a=t.status),"code"in t&&n(5,c=t.code),"id"in t&&n(6,l=t.id)},[r,o,s,i,a,c,l]}class ze extends rt{constructor(t){super(),nt(this,t,Ae,Te,i,{fullname:0,experience:1,stamina:2,reliability:3,status:4,code:5,id:6})}}function Le(t,e,n){const r=t.slice();return r[8]=e[n],r}function Ie(t,e,n){const r=t.slice();return r[11]=e[n],r}function Re(e){let n,r,o,s,i,a,c=e[11].name+"";return{c(){n=m("th"),r=g(c),o=$(),y(n,"data-id",s=e[11].id),y(n,"data-order","1"),y(n,"class","svelte-1lry4cs")},m(t,s){f(t,n,s),u(n,r),u(n,o),i||(a=b(n,"click",e[3]),i=!0)},p:t,d(t){t&&d(n),i=!1,a()}}}function De(t){let n,r;const o=[t[8]];let s={};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);return n=new ze({props:s}),{c(){Q(n.$$.fragment)},m(t,e){tt(n,t,e),r=!0},p(t,e){const r=5&e?Z(o,[K(t[8])]):{};n.$set(r)},i(t){r||(G(n.$$.fragment,t),r=!0)},o(t){W(n.$$.fragment,t),r=!1},d(t){et(n,t)}}}function He(t){let e,n,r=!t[4](t[8]),o=r&&De(t);return{c(){o&&o.c(),e=v()},m(t,r){o&&o.m(t,r),f(t,e,r),n=!0},p(t,n){5&n&&(r=!t[4](t[8])),r?o?(o.p(t,n),5&n&&G(o,1)):(o=De(t),o.c(),G(o,1),o.m(e.parentNode,e)):o&&(X(),W(o,1,1,(()=>{o=null})),F())},i(t){n||(G(o),n=!0)},o(t){W(o),n=!1},d(t){o&&o.d(t),t&&d(e)}}}function Me(t){let e,n,r,o,s,i=t[5],a=[];for(let e=0;e<i.length;e+=1)a[e]=Re(Ie(t,i,e));let c=t[2].sort(t[0]),l=[];for(let e=0;e<c.length;e+=1)l[e]=He(Le(t,c,e));const h=t=>W(l[t],1,1,(()=>{l[t]=null}));return{c(){e=m("table"),n=m("thead");for(let t=0;t<a.length;t+=1)a[t].c();r=$(),o=m("tbody");for(let t=0;t<l.length;t+=1)l[t].c();k(e,"striped",t[1])},m(t,i){f(t,e,i),u(e,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);u(e,r),u(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);s=!0},p(t,[r]){if(40&r){let e;for(i=t[5],e=0;e<i.length;e+=1){const o=Ie(t,i,e);a[e]?a[e].p(o,r):(a[e]=Re(o),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=i.length}if(21&r){let e;for(c=t[2].sort(t[0]),e=0;e<c.length;e+=1){const n=Le(t,c,e);l[e]?(l[e].p(n,r),G(l[e],1)):(l[e]=He(n),l[e].c(),G(l[e],1),l[e].m(o,null))}for(X(),e=c.length;e<l.length;e+=1)h(e);F()}2&r&&k(e,"striped",t[1])},i(t){if(!s){for(let t=0;t<c.length;t+=1)G(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)W(l[t]);s=!1},d(t){t&&d(e),p(a,t),p(l,t)}}}function Pe(t,e){return function(n,r){return n[t]<r[t]?e:n[t]>r[t]?-1*e:0}}function qe(t,e,n){let r,o,s;c(t,Ft,(t=>n(7,r=t))),c(t,Xt,(t=>n(1,o=t))),c(t,Ce,(t=>n(2,s=t)));let i=["experience",1],a=Pe(...i);return t.$$.update=()=>{64&t.$$.dirty&&n(0,a=Pe(...i))},[a,o,s,function(t){n(6,i=[t.srcElement.dataset.id,t.srcElement.dataset.order]),t.srcElement.dataset.order*=-1},function(t){return r&&"в архиве"===t.status},[{id:"fullname",name:"Ф.И.О"},{id:"reliability",name:"Надёжность"},{id:"experience",name:"Опыт"},{id:"stamina",name:"Стамина"},{id:"status",name:"Статус"}]]}class Je extends rt{constructor(t){super(),nt(this,t,qe,Me,i,{})}}function Be(e){let n,r,o,s;return{c(){n=m("a"),n.textContent="Добавить мувера",y(n,"href","/team/add"),y(n,"class","button outline primary")},m(t,e){f(t,n,e),o||(s=l(r=Ot.call(null,n)),o=!0)},p:t,i:t,o:t,d(t){t&&d(n),o=!1,s()}}}class Ue extends rt{constructor(t){super(),nt(this,t,null,Be,i,{})}}function Ye(e){let n,r,o,s,i,a,c,l,p;return s=new Ue({}),l=new Je({}),{c(){n=m("div"),r=m("div"),o=m("div"),Q(s.$$.fragment),i=$(),a=m("div"),c=m("div"),Q(l.$$.fragment),y(o,"class","col"),y(r,"class","row action-buttons svelte-1x4kbvx"),y(c,"class","col"),y(a,"class","row"),y(n,"class","container")},m(t,e){f(t,n,e),u(n,r),u(r,o),tt(s,o,null),u(n,i),u(n,a),u(a,c),tt(l,c,null),p=!0},p:t,i(t){p||(G(s.$$.fragment,t),G(l.$$.fragment,t),p=!0)},o(t){W(s.$$.fragment,t),W(l.$$.fragment,t),p=!1},d(t){t&&d(n),et(s),et(l)}}}class Ve extends rt{constructor(t){super(),nt(this,t,null,Ye,i,{})}}function Xe(e){let n;return{c(){n=m("div"),n.innerHTML='<div class="row"><div class="col"><h1>Страница не найдена</h1></div></div>',y(n,"class","container")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}class Fe extends rt{constructor(t){super(),nt(this,t,null,Xe,i,{})}}function Ge(e){let n,r,s,i,a,c,l,p,h,v,x,_,w,C,k,E,j,S,O,N,T;return{c(){n=m("div"),r=m("dir"),s=m("div"),i=m("form"),a=m("fieldset"),c=m("legend"),c.textContent="Интерфейс",l=$(),p=m("ul"),h=m("li"),v=m("p"),x=m("label"),_=m("input"),w=g("\n                                    Контрастные строки в таблицах"),C=$(),k=m("li"),E=m("p"),j=m("label"),S=m("input"),O=g("\n                                    Скрывать архив"),y(_,"id","checkbox1"),y(_,"name","checkbox"),y(_,"type","checkbox"),y(x,"for","checkbox1"),y(S,"id","checkbox2"),y(S,"name","checkbox"),y(S,"type","checkbox"),y(j,"for","checkbox2"),y(p,"class","svelte-ohwq5a"),y(s,"class","col"),y(r,"class","row"),y(n,"class","container")},m(t,o){f(t,n,o),u(n,r),u(r,s),u(s,i),u(i,a),u(a,c),u(a,l),u(a,p),u(p,h),u(h,v),u(v,x),u(x,_),_.checked=e[0],u(x,w),u(p,C),u(p,k),u(k,E),u(E,j),u(j,S),S.checked=e[1],u(j,O),N||(T=[b(_,"change",e[2]),b(S,"change",e[3])],N=!0)},p(t,[e]){1&e&&(_.checked=t[0]),2&e&&(S.checked=t[1])},i:t,o:t,d(t){t&&d(n),N=!1,o(T)}}}function We(t,e,n){let r,o;return c(t,Xt,(t=>n(0,r=t))),c(t,Ft,(t=>n(1,o=t))),[r,o,function(){r=this.checked,Xt.set(r)},function(){o=this.checked,Ft.set(o)}]}class Ze extends rt{constructor(t){super(),nt(this,t,We,Ge,i,{})}}function Ke(e){let n;return{c(){n=m("div"),n.innerHTML='<dir class="row"><div class="col">Logs</div></dir>',y(n,"class","container")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}class Qe extends rt{constructor(t){super(),nt(this,t,null,Ke,i,{})}}function tn(e){let n,r,o=(void 0===e[0]?"":e[0])+"";return{c(){n=m("small"),r=g(o),y(n,"class","svelte-idl1j8"),k(n,"error",void 0!==e[0])},m(t,e){f(t,n,e),u(n,r)},p(t,[e]){1&e&&o!==(o=(void 0===t[0]?"":t[0])+"")&&x(r,o),1&e&&k(n,"error",void 0!==t[0])},i:t,o:t,d(t){t&&d(n)}}}function en(t,e,n){let{error:r}=e;return t.$$set=t=>{"error"in t&&n(0,r=t.error)},[r]}class nn extends rt{constructor(t){super(),nt(this,t,en,tn,i,{error:0})}}function rn(t){let e,n,r,s,i,a,c,l,p,h,g,v,x,w,C,E,j,S,O,N,T,A,z,L,I,R,D,H,M,P,q,J,B,U,Y,V,X,F,Z;return h=new nn({props:{error:t[4].fullname}}),j=new nn({props:{error:t[4].experience}}),L=new nn({props:{error:t[4].stamina}}),q=new nn({props:{error:t[4].reliability}}),{c(){e=m("div"),n=m("h4"),n.textContent="Новый мувер",r=$(),s=m("dir"),i=m("div"),a=m("form"),c=m("p"),l=m("label"),l.textContent="Ф.И.О.",p=$(),Q(h.$$.fragment),g=$(),v=m("input"),x=$(),w=m("p"),C=m("label"),C.textContent="Опыт",E=$(),Q(j.$$.fragment),S=$(),O=m("input"),N=$(),T=m("p"),A=m("label"),A.textContent="Стамина",z=$(),Q(L.$$.fragment),I=$(),R=m("input"),D=$(),H=m("p"),M=m("label"),M.textContent="Надёжность",P=$(),Q(q.$$.fragment),J=$(),B=m("input"),U=$(),Y=m("p"),V=m("button"),V.textContent="Сохранить",y(l,"for","fullname"),y(v,"type","text"),y(v,"id","fullname"),y(v,"placeholder","Иванов Иван Иванович"),y(C,"for","experience"),y(O,"type","text"),y(O,"id","experience"),y(O,"placeholder","16"),k(O,"has_error",t[4].experience),y(A,"for","stamina"),y(R,"type","text"),y(R,"id","stamina"),y(R,"placeholder","32"),k(R,"has_error",t[4].stamina),y(M,"for","reliability"),y(B,"type","text"),y(B,"id","reliability"),y(B,"placeholder","21"),k(B,"has_error",t[4].reliability),y(V,"class","button outline primary"),y(Y,"class","text-right"),y(i,"class","col"),y(s,"class","row is-full-screen"),y(e,"class","container")},m(o,d){f(o,e,d),u(e,n),u(e,r),u(e,s),u(s,i),u(i,a),u(a,c),u(c,l),u(c,p),tt(h,c,null),u(c,g),u(c,v),_(v,t[0]),u(a,x),u(a,w),u(w,C),u(w,E),tt(j,w,null),u(w,S),u(w,O),_(O,t[1]),u(a,N),u(a,T),u(T,A),u(T,z),tt(L,T,null),u(T,I),u(T,R),_(R,t[2]),u(a,D),u(a,H),u(H,M),u(H,P),tt(q,H,null),u(H,J),u(H,B),_(B,t[3]),u(i,U),u(i,Y),u(Y,V),X=!0,F||(Z=[b(v,"input",t[6]),b(O,"input",t[7]),b(R,"input",t[8]),b(B,"input",t[9]),b(V,"click",t[5])],F=!0)},p(t,[e]){const n={};16&e&&(n.error=t[4].fullname),h.$set(n),1&e&&v.value!==t[0]&&_(v,t[0]);const r={};16&e&&(r.error=t[4].experience),j.$set(r),2&e&&O.value!==t[1]&&_(O,t[1]),16&e&&k(O,"has_error",t[4].experience);const o={};16&e&&(o.error=t[4].stamina),L.$set(o),4&e&&R.value!==t[2]&&_(R,t[2]),16&e&&k(R,"has_error",t[4].stamina);const s={};16&e&&(s.error=t[4].reliability),q.$set(s),8&e&&B.value!==t[3]&&_(B,t[3]),16&e&&k(B,"has_error",t[4].reliability)},i(t){X||(G(h.$$.fragment,t),G(j.$$.fragment,t),G(L.$$.fragment,t),G(q.$$.fragment,t),X=!0)},o(t){W(h.$$.fragment,t),W(j.$$.fragment,t),W(L.$$.fragment,t),W(q.$$.fragment,t),X=!1},d(t){t&&d(e),et(h),et(j),et(L),et(q),F=!1,o(Z)}}}function on(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let o,s,i,a,c,l=[];return t.$$.update=()=>{1024&t.$$.dirty&&(n(4,c=[]),l.forEach((t=>n(4,c[t.loc[1]]=t.msg,c))))},[o,s,i,a,c,function(){return r(this,void 0,void 0,(function*(){n(10,l=yield async function(t,e,n,r){const o={fullname:t,reliability:e,stamina:n,experience:r},s=await fetch("https://gaps-apps.ru/api/botcman/team/add",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(422==s.status)return(await s.json()).detail}(o,a,i,s)),n(10,l=void 0===l?[]:l),0==l.length&&St("/team")}))},function(){o=this.value,n(0,o)},function(){s=this.value,n(1,s)},function(){i=this.value,n(2,i)},function(){a=this.value,n(3,a)}]}class sn extends rt{constructor(t){super(),nt(this,t,on,rn,i,{})}}function an(e){let n;return{c(){n=m("div"),n.innerHTML='<h4>Изменить данные</h4> \n    <dir class="row is-full-screen"><div class="col"><form><p><label for="fullname">Ф.И.О.</label> \n                    <input type="text" id="fullname" placeholder="Иванов Иван Иванович"/></p> \n                <p><label for="experience">Опыт</label> \n                    <input type="text" id="exprerience" placeholder="16"/></p> \n                <p><label for="stamina">Стамина</label> \n                    <input type="text" id="stamina" placeholder="32"/></p> \n                <p><label for="reliability">Надёжность</label> \n                    <input type="text" id="reliability" placeholder="21"/></p></form> \n            <p class="text-right"><button class="button outline primary">Сохранить</button></p></div></dir>',y(n,"class","container")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}class cn extends rt{constructor(t){super(),nt(this,t,null,an,i,{})}}function ln(t,e,n){const r=t.slice();return r[7]=e[n],r}function un(e){let n,r,o,s=e[7]+"";return{c(){n=m("option"),r=g(s),n.__value=o=e[7],n.value=n.__value},m(t,e){f(t,n,e),u(n,r)},p:t,d(t){t&&d(n)}}}function fn(t){let e,n,r,s,i,a,c,l,h,g,v,x,C,E,j,S,O,N,T,A,z,L,I,R,D,H,M,q,J,B,U,Y,V,X,F,Z,K,nt,rt,ot,st,it,at,ct,lt,ut,ft,dt,pt,mt,ht,gt,$t,vt,bt,yt,xt,_t,wt,Ct,kt,Et;g=new nn({props:{error:t[6].ext_id}}),O=new nn({props:{error:t[6].manager}});let jt=["Стародубцев","Чупрова","Миронова"].sort(),St=[];for(let e=0;e<jt.length;e+=1)St[e]=un(ln(t,jt,e));return R=new nn({props:{error:t[6].status}}),V=new nn({props:{error:t[6].chat_message}}),ot=new nn({props:{error:t[6].brigadier_message}}),ft=new nn({props:{error:t[6].mover_message}}),vt=new nn({props:{error:t[6].courier_message}}),{c(){e=m("div"),n=m("h4"),n.textContent="Новая заявка",r=$(),s=m("dir"),i=m("div"),a=m("form"),c=m("p"),l=m("label"),l.textContent="Номер",h=$(),Q(g.$$.fragment),v=$(),x=m("input"),C=$(),E=m("p"),j=m("label"),j.textContent="Исполнитель",S=$(),Q(O.$$.fragment),N=$(),T=m("select");for(let t=0;t<St.length;t+=1)St[t].c();A=$(),z=m("p"),L=m("label"),L.textContent="Статус",I=$(),Q(R.$$.fragment),D=$(),H=m("select"),M=m("option"),M.textContent="новая",q=m("option"),q.textContent="завершена",J=$(),B=m("p"),U=m("label"),U.textContent="Задание в чат",Y=$(),Q(V.$$.fragment),X=$(),F=m("textarea"),Z=$(),K=m("p"),nt=m("label"),nt.textContent="Бригадиру в лc",rt=$(),Q(ot.$$.fragment),st=$(),it=m("textarea"),at=$(),ct=m("p"),lt=m("label"),lt.textContent="Муверу в лc",ut=$(),Q(ft.$$.fragment),dt=$(),pt=m("textarea"),mt=$(),ht=m("p"),gt=m("label"),gt.textContent="Курьеру в лc",$t=$(),Q(vt.$$.fragment),bt=$(),yt=m("textarea"),xt=$(),_t=m("p"),wt=m("button"),wt.textContent="Сохранить",y(l,"for","ext_id"),y(x,"id","ext_id"),y(x,"type","text"),y(j,"for","manager"),k(j,"bg-error",t[6].manager),y(T,"id","manager"),void 0===t[7]&&P((()=>t[10].call(T))),y(L,"for","status"),k(L,"bg-error",t[6].status),M.__value="новая",M.value=M.__value,q.__value="завершена",q.value=q.__value,y(H,"id","status"),void 0===t[1]&&P((()=>t[11].call(H))),y(U,"for","chat_message"),k(U,"bg-error",t[6].chat_message),y(F,"rows","20"),y(F,"id","chat_message"),k(F,"has_error",t[6].chat_message),y(nt,"for","brigadier_message"),k(nt,"bg-error",t[6].brigadier_message),y(it,"rows","20"),y(it,"id","brigadier_message"),k(it,"has_error",t[6].brigadier_message),y(lt,"for","mover_message"),k(lt,"bg-error",t[6].mover_message),y(pt,"rows","20"),y(pt,"id","mover_message"),k(pt,"has_error",t[6].mover_message),y(gt,"for","courier_message"),k(gt,"bg-error",t[6].courier_message),y(yt,"rows","20"),y(yt,"id","courier_message"),k(yt,"has_error",t[6].courier_message),y(wt,"class","button outline primary"),y(_t,"class","text-right"),y(i,"class","col"),y(s,"class","row is-full-screen"),y(e,"class","container")},m(o,d){f(o,e,d),u(e,n),u(e,r),u(e,s),u(s,i),u(i,a),u(a,c),u(c,l),u(c,h),tt(g,c,null),u(c,v),u(c,x),_(x,t[0]),u(a,C),u(a,E),u(E,j),u(E,S),tt(O,E,null),u(E,N),u(E,T);for(let t=0;t<St.length;t+=1)St[t].m(T,null);w(T,t[7]),u(a,A),u(a,z),u(z,L),u(z,I),tt(R,z,null),u(z,D),u(z,H),u(H,M),u(H,q),w(H,t[1]),u(a,J),u(a,B),u(B,U),u(B,Y),tt(V,B,null),u(B,X),u(B,F),_(F,t[2]),u(a,Z),u(a,K),u(K,nt),u(K,rt),tt(ot,K,null),u(K,st),u(K,it),_(it,t[5]),u(a,at),u(a,ct),u(ct,lt),u(ct,ut),tt(ft,ct,null),u(ct,dt),u(ct,pt),_(pt,t[4]),u(a,mt),u(a,ht),u(ht,gt),u(ht,$t),tt(vt,ht,null),u(ht,bt),u(ht,yt),_(yt,t[3]),u(i,xt),u(i,_t),u(_t,wt),Ct=!0,kt||(Et=[b(x,"input",t[9]),b(T,"change",t[10]),b(H,"change",t[11]),b(F,"input",t[12]),b(it,"input",t[13]),b(pt,"input",t[14]),b(yt,"input",t[15]),b(wt,"click",t[8])],kt=!0)},p(t,[e]){const n={};64&e&&(n.error=t[6].ext_id),g.$set(n),1&e&&x.value!==t[0]&&_(x,t[0]),64&e&&k(j,"bg-error",t[6].manager);const r={};if(64&e&&(r.error=t[6].manager),O.$set(r),0&e){let n;for(jt=["Стародубцев","Чупрова","Миронова"].sort(),n=0;n<jt.length;n+=1){const r=ln(t,jt,n);St[n]?St[n].p(r,e):(St[n]=un(r),St[n].c(),St[n].m(T,null))}for(;n<St.length;n+=1)St[n].d(1);St.length=jt.length}128&e&&w(T,t[7]),64&e&&k(L,"bg-error",t[6].status);const o={};64&e&&(o.error=t[6].status),R.$set(o),2&e&&w(H,t[1]),64&e&&k(U,"bg-error",t[6].chat_message);const s={};64&e&&(s.error=t[6].chat_message),V.$set(s),4&e&&_(F,t[2]),64&e&&k(F,"has_error",t[6].chat_message),64&e&&k(nt,"bg-error",t[6].brigadier_message);const i={};64&e&&(i.error=t[6].brigadier_message),ot.$set(i),32&e&&_(it,t[5]),64&e&&k(it,"has_error",t[6].brigadier_message),64&e&&k(lt,"bg-error",t[6].mover_message);const a={};64&e&&(a.error=t[6].mover_message),ft.$set(a),16&e&&_(pt,t[4]),64&e&&k(pt,"has_error",t[6].mover_message),64&e&&k(gt,"bg-error",t[6].courier_message);const c={};64&e&&(c.error=t[6].courier_message),vt.$set(c),8&e&&_(yt,t[3]),64&e&&k(yt,"has_error",t[6].courier_message)},i(t){Ct||(G(g.$$.fragment,t),G(O.$$.fragment,t),G(R.$$.fragment,t),G(V.$$.fragment,t),G(ot.$$.fragment,t),G(ft.$$.fragment,t),G(vt.$$.fragment,t),Ct=!0)},o(t){W(g.$$.fragment,t),W(O.$$.fragment,t),W(R.$$.fragment,t),W(V.$$.fragment,t),W(ot.$$.fragment,t),W(ft.$$.fragment,t),W(vt.$$.fragment,t),Ct=!1},d(t){t&&d(e),et(g),et(O),p(St,t),et(R),et(V),et(ot),et(ft),et(vt),kt=!1,o(Et)}}}function dn(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let o,s,i,a,c,l,u,f,d=[];return t.$$.update=()=>{65536&t.$$.dirty&&(n(6,f=[]),d.forEach((t=>n(6,f[t.loc[1]]=t.msg,f))))},[o,i,a,c,l,u,f,s,function(){return r(this,void 0,void 0,(function*(){n(16,d=yield async function(t,e,n,r,o,s,i){const a={ext_id:t,manager:e,status:n,chat_message:r,brigadier_message:s,courier_message:o,mover_message:i},c=await fetch("https://gaps-apps.ru/api/botcman/jobs/add",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(422==c.status)return(await c.json()).detail}(o,s,i,a,c,u,l)),n(16,d=void 0===d?[]:d),0==d.length&&St("/jobs")}))},function(){o=this.value,n(0,o)},function(){s=C(this),n(7,s)},function(){i=C(this),n(1,i)},function(){a=this.value,n(2,a)},function(){u=this.value,n(5,u)},function(){l=this.value,n(4,l)},function(){c=this.value,n(3,c)}]}class pn extends rt{constructor(t){super(),nt(this,t,dn,fn,i,{})}}function mn(t,e,n){const r=t.slice();return r[7]=e[n],r}function hn(e){let n,r,o,s=e[7]+"";return{c(){n=m("option"),r=g(s),n.__value=o=e[7],n.value=n.__value},m(t,e){f(t,n,e),u(n,r)},p:t,d(t){t&&d(n)}}}function gn(t){let e,n,r,s,i,a,c,l,h,g,v,x,C,E,j,S,O,N,T,A,z,L,I,R,D,H,M,q,J,B,U,Y,V,X,F,Z,K,nt,rt,ot,st,it,at,ct,lt,ut,ft,dt,pt,mt,ht,gt,$t,vt,bt,yt,xt,_t,wt,Ct,kt,Et,jt,St;g=new nn({props:{error:t[6].ext_id}}),O=new nn({props:{error:t[6].manager}});let Ot=["Стародубцев","Чупрова","Миронова"].sort(),Nt=[];for(let e=0;e<Ot.length;e+=1)Nt[e]=hn(mn(t,Ot,e));return R=new nn({props:{error:t[6].status}}),F=new nn({props:{error:t[6].chat_message}}),it=new nn({props:{error:t[6].brigadier_message}}),pt=new nn({props:{error:t[6].mover_message}}),yt=new nn({props:{error:t[6].courier_message}}),{c(){e=m("div"),n=m("h4"),n.textContent="Изменить данные",r=$(),s=m("dir"),i=m("div"),a=m("form"),c=m("p"),l=m("label"),l.textContent="Номер",h=$(),Q(g.$$.fragment),v=$(),x=m("input"),C=$(),E=m("p"),j=m("label"),j.textContent="Исполнитель",S=$(),Q(O.$$.fragment),N=$(),T=m("select");for(let t=0;t<Nt.length;t+=1)Nt[t].c();A=$(),z=m("p"),L=m("label"),L.textContent="Статус",I=$(),Q(R.$$.fragment),D=$(),H=m("select"),M=m("option"),M.textContent="новая",q=m("option"),q.textContent="завершена",J=m("option"),J.textContent="в архиве",B=m("option"),B.textContent="опрос чата",U=$(),Y=m("p"),V=m("label"),V.textContent="Задание в чат",X=$(),Q(F.$$.fragment),Z=$(),K=m("textarea"),nt=$(),rt=m("p"),ot=m("label"),ot.textContent="Бригадиру в лc",st=$(),Q(it.$$.fragment),at=$(),ct=m("textarea"),lt=$(),ut=m("p"),ft=m("label"),ft.textContent="Муверу в лc",dt=$(),Q(pt.$$.fragment),mt=$(),ht=m("textarea"),gt=$(),$t=m("p"),vt=m("label"),vt.textContent="Курьеру в лc",bt=$(),Q(yt.$$.fragment),xt=$(),_t=m("textarea"),wt=$(),Ct=m("p"),kt=m("button"),kt.textContent="Сохранить",y(l,"for","ext_id"),y(x,"id","ext_id"),y(x,"type","text"),y(j,"for","manager"),y(T,"id","manager"),void 0===t[7]&&P((()=>t[11].call(T))),y(L,"for","status"),k(L,"bg-error",t[6].status),M.__value="новая",M.value=M.__value,q.__value="завершена",q.value=q.__value,J.__value="в архиве",J.value=J.__value,B.__value="опрос чата",B.value=B.__value,y(H,"id","status"),void 0===t[5]&&P((()=>t[12].call(H))),y(V,"for","chat_message"),k(V,"bg-error",t[6].chat_message),y(K,"rows","20"),y(K,"id","chat_message"),k(K,"has_error",t[6].chat_message),y(ot,"for","brigadier_message"),k(ot,"bg-error",t[6].brigadier_message),y(ct,"rows","20"),y(ct,"id","brigadier_message"),k(ct,"has_error",t[6].brigadier_message),y(ft,"for","mover_message"),k(ft,"bg-error",t[6].mover_message),y(ht,"rows","20"),y(ht,"id","mover_message"),k(ht,"has_error",t[6].mover_message),y(vt,"for","courier_message"),k(vt,"bg-error",t[6].courier_message),y(_t,"rows","20"),y(_t,"id","courier_message"),k(_t,"has_error",t[6].courier_message),y(kt,"class","button outline primary"),y(Ct,"class","text-right"),y(i,"class","col"),y(s,"class","row is-full-screen"),y(e,"class","container")},m(o,d){f(o,e,d),u(e,n),u(e,r),u(e,s),u(s,i),u(i,a),u(a,c),u(c,l),u(c,h),tt(g,c,null),u(c,v),u(c,x),_(x,t[0]),u(a,C),u(a,E),u(E,j),u(E,S),tt(O,E,null),u(E,N),u(E,T);for(let t=0;t<Nt.length;t+=1)Nt[t].m(T,null);w(T,t[7]),u(a,A),u(a,z),u(z,L),u(z,I),tt(R,z,null),u(z,D),u(z,H),u(H,M),u(H,q),u(H,J),u(H,B),w(H,t[5]),u(a,U),u(a,Y),u(Y,V),u(Y,X),tt(F,Y,null),u(Y,Z),u(Y,K),_(K,t[1]),u(a,nt),u(a,rt),u(rt,ot),u(rt,st),tt(it,rt,null),u(rt,at),u(rt,ct),_(ct,t[4]),u(a,lt),u(a,ut),u(ut,ft),u(ut,dt),tt(pt,ut,null),u(ut,mt),u(ut,ht),_(ht,t[3]),u(a,gt),u(a,$t),u($t,vt),u($t,bt),tt(yt,$t,null),u($t,xt),u($t,_t),_(_t,t[2]),u(i,wt),u(i,Ct),u(Ct,kt),Et=!0,jt||(St=[b(x,"input",t[10]),b(T,"change",t[11]),b(H,"change",t[12]),b(K,"input",t[13]),b(ct,"input",t[14]),b(ht,"input",t[15]),b(_t,"input",t[16]),b(kt,"click",t[8])],jt=!0)},p(t,[e]){const n={};64&e&&(n.error=t[6].ext_id),g.$set(n),1&e&&x.value!==t[0]&&_(x,t[0]);const r={};if(64&e&&(r.error=t[6].manager),O.$set(r),0&e){let n;for(Ot=["Стародубцев","Чупрова","Миронова"].sort(),n=0;n<Ot.length;n+=1){const r=mn(t,Ot,n);Nt[n]?Nt[n].p(r,e):(Nt[n]=hn(r),Nt[n].c(),Nt[n].m(T,null))}for(;n<Nt.length;n+=1)Nt[n].d(1);Nt.length=Ot.length}128&e&&w(T,t[7]),64&e&&k(L,"bg-error",t[6].status);const o={};64&e&&(o.error=t[6].status),R.$set(o),32&e&&w(H,t[5]),64&e&&k(V,"bg-error",t[6].chat_message);const s={};64&e&&(s.error=t[6].chat_message),F.$set(s),2&e&&_(K,t[1]),64&e&&k(K,"has_error",t[6].chat_message),64&e&&k(ot,"bg-error",t[6].brigadier_message);const i={};64&e&&(i.error=t[6].brigadier_message),it.$set(i),16&e&&_(ct,t[4]),64&e&&k(ct,"has_error",t[6].brigadier_message),64&e&&k(ft,"bg-error",t[6].mover_message);const a={};64&e&&(a.error=t[6].mover_message),pt.$set(a),8&e&&_(ht,t[3]),64&e&&k(ht,"has_error",t[6].mover_message),64&e&&k(vt,"bg-error",t[6].courier_message);const c={};64&e&&(c.error=t[6].courier_message),yt.$set(c),4&e&&_(_t,t[2]),64&e&&k(_t,"has_error",t[6].courier_message)},i(t){Et||(G(g.$$.fragment,t),G(O.$$.fragment,t),G(R.$$.fragment,t),G(F.$$.fragment,t),G(it.$$.fragment,t),G(pt.$$.fragment,t),G(yt.$$.fragment,t),Et=!0)},o(t){W(g.$$.fragment,t),W(O.$$.fragment,t),W(R.$$.fragment,t),W(F.$$.fragment,t),W(it.$$.fragment,t),W(pt.$$.fragment,t),W(yt.$$.fragment,t),Et=!1},d(t){t&&d(e),et(g),et(O),p(Nt,t),et(R),et(F),et(it),et(pt),et(yt),jt=!1,o(St)}}}function $n(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let o,s,i,a,c,l,u,f,{params:d={}}=e,p=[];return O((()=>r(void 0,void 0,void 0,(function*(){let t=yield async function(t){const e=await fetch("https://gaps-apps.ru/api/botcman/jobs/get/"+t,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(200==e.status)return await e.json()}(d.id);n(0,s=t.ext_id),n(7,o=t.manager),n(5,u=t.status),n(1,i=t.chat_message),n(2,a=t.courier_message),n(3,c=t.mover_message),n(4,l=t.brigadier_message)})))),t.$$set=t=>{"params"in t&&n(9,d=t.params)},t.$$.update=()=>{131072&t.$$.dirty&&(n(6,f=[]),p.forEach((t=>n(6,f[t.loc[1]]=t.msg,f))))},[s,i,a,c,l,u,f,o,function(){return r(this,void 0,void 0,(function*(){n(17,p=yield async function(t,e,n,r,o,s,i,a){const c={ext_id:e,manager:n,status:r,chat_message:o,brigadier_message:s,courier_message:a,mover_message:i},l=await fetch("https://gaps-apps.ru/api/botcman/jobs/edit/"+t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(422==l.status)return(await l.json()).detail}(d.id,s,o,u,i,l,c,a)),n(17,p=void 0===p?[]:p),0==p.length&&St("/jobs")}))},d,function(){s=this.value,n(0,s)},function(){o=C(this),n(7,o)},function(){u=C(this),n(5,u)},function(){i=this.value,n(1,i)},function(){l=this.value,n(4,l)},function(){c=this.value,n(3,c)},function(){a=this.value,n(2,a)}]}class vn extends rt{constructor(t){super(),nt(this,t,$n,gn,i,{params:9})}}function bn(e){let n;return{c(){n=m("div"),n.innerHTML='<dir class="row"><div class="col"><h1>Набор команды</h1> \n            <h3>Заявка отправлена в чат.</h3> \n            <p>Здесь будет отображены результаты опроса по заявке.</p> \n            <p>Можно будет посмотреть статус муверов и бригадира, увидеть\n                подтверждения, назначить автозамену.</p></div></dir>',y(n,"class","container")},m(t,e){f(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}function yn(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let{params:o={}}=e;return O((()=>r(void 0,void 0,void 0,(function*(){yield async function(t){await fetch("https://gaps-apps.ru/api/botcman/jobs/run/"+t,{method:"GET",credentials:"include"})}(o.id)})))),t.$$set=t=>{"params"in t&&n(0,o=t.params)},[o]}class xn extends rt{constructor(t){super(),nt(this,t,yn,bn,i,{params:0})}}function _n(e){let n,r,o,s;return n=new Pt({}),o=new zt({props:{routes:e[0]}}),{c(){Q(n.$$.fragment),r=$(),Q(o.$$.fragment)},m(t,e){tt(n,t,e),f(t,r,e),tt(o,t,e),s=!0},p:t,i(t){s||(G(n.$$.fragment,t),G(o.$$.fragment,t),s=!0)},o(t){W(n.$$.fragment,t),W(o.$$.fragment,t),s=!1},d(t){et(n,t),t&&d(r),et(o,t)}}}function wn(t){return[{"/":Jt,"/team":Ve,"/team/add":sn,"/team/edit":cn,"/jobs":we,"/jobs/add":pn,"/jobs/edit/:id":vn,"/jobs/pick/:id":xn,"/logs":Qe,"/settings":Ze,"*":Fe}]}class Cn extends rt{constructor(t){super(),nt(this,t,wn,_n,i,{})}}function kn(t){let e,n,r;var o=t[2][t[1].role];return o&&(e=new o({})),{c(){e&&Q(e.$$.fragment),n=v()},m(t,o){e&&tt(e,t,o),f(t,n,o),r=!0},p(t,[r]){if(o!==(o=t[2][t[1].role])){if(e){X();const t=e;W(t.$$.fragment,1,0,(()=>{et(t,1)})),F()}o?(e=new o({}),Q(e.$$.fragment),G(e.$$.fragment,1),tt(e,n.parentNode,n)):e=null}},i(t){r||(e&&G(e.$$.fragment,t),r=!0)},o(t){e&&W(e.$$.fragment,t),r=!1},d(t){t&&d(n),e&&et(e,t)}}}function En(e,n,r){let o,s=t,i=()=>(s(),s=a(c,(t=>r(1,o=t))),c);e.$$.on_destroy.push((()=>s())),document.title="Боцман -- Dashboard";let{user:c}=n;i();const l={administrator:Cn,unauthorized:yt};return e.$$set=t=>{"user"in t&&i(r(0,c=t.user))},[c,o,l]}return new class extends rt{constructor(t){super(),nt(this,t,En,kn,i,{user:0})}}({target:document.body,props:{user:$t}})}();
//# sourceMappingURL=bundle.js.map
